bindings:
  - path: ./functions
steps:
  - name: convertToInt
    template: |
      {"a": $number(a),
      "b": $number(b),
      "c": $number(c)}

  - name: checkA
    externalWorkflow:
      path: ./checkForQuadratic.yaml

  - name: Cald
    template: |
      $setContext("d",$cald($outputs.convertToInt.a,$outputs.convertToInt.b,$outputs.convertToInt.c))
  
  - name: d
    template: |
      $log($context.d)
  - name: checkIfRootsExists
    template: |
      $assert( $context.d>=0, "Roots don't exist.")
  - name: Sqrtd
    template: |
      $setContext("D",$sqrt($context.d))
  - name: CalFirstRootNumerator
    template: |
      $setContext("N1",$add($outputs.convertToInt.b,$context.D))
  - name: CalSecondRootNumerator
    template: |
      $setContext("N2",$subtract($outputs.convertToInt.b,$context.D))
  - name: D
    template: |
      $log($add($outputs.convertToInt.b,$context.D))
  - name: Calrootstoarray
    template: |
      [$divide($context.N1,$multiply(2,$outputs.convertToInt.a)), $divide($context.N2,$multiply(2,$outputs.convertToInt.a))]
